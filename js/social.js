"use strict";
function template(a,b,c)
{return a.replace(/\{([^\}]+)\}/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}angular.module("ngSocial",[]).directive("ngSocialButtons",["$compile","$q","$parse","$http",function(){return{restrict:"A",scope:{url:"=",title:"=",description:"=",image:"="},replace:!0,transclude:!0,template:'<div class="ng-social-container ng-cloak"><ul class="ng-social" ng-transclude></ul></div>',controller:["$scope","$q","$http",function(a,b,c){var d={init:function(a,b,c){c.counter&&(a.count=d.getCount(a.options))},link:function(b){b=b||{};var c=b.urlOptions||{};return c.url=a.url,c.title=a.title,c.image=a.image,c.description=a.description||"",d.makeUrl(b.clickUrl||b.popup.url,c)},clickShare:function(a,b){if(!a.shiftKey&&!a.ctrlKey){a.preventDefault();var c=!0;if(angular.isFunction(b.click)&&(c=b.click.call(this,b)),c){var e=d.link(b);d.openPopup(e,b.popup)}}},openPopup:function(a,b){var c=Math.round(screen.width/2-b.width/2),d=0;screen.height>b.height&&(d=Math.round(screen.height/3-b.height/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a},getCount:function(e){var f=b.defer(),g=e.urlOptions||{};g.url=a.url,g.title=a.title;var h=d.makeUrl(e.counter.url,g);return e.counter.get?e.counter.get(h,f,c):c.jsonp(h).success(function(a){e.counter.getNumber?f.resolve(e.counter.getNumber(a)):f.resolve(a)}),f.promise},makeUrl:function(a,b){return template(a,b,encodeURIComponent)}};return d}],link:function(a){a.$watch("title",function(a){console.info(a)})}}}]),angular.module("ngSocial").directive("ngSocialFacebook",function(){var a={counter:{url:"http://graph.facebook.com/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=JSON_CALLBACK",getNumber:function(a){return a.data[0].total_count}},popup:{url:"http://www.facebook.com/sharer/sharer.php?u={url}",width:600,height:500}};return{restrict:"C",require:"^?ngSocialButtons",scope:!0,replace:!0,transclude:!0,template:'<li>                     <a ng-href="{{ctrl.link(options)}}" target="_blank" ng-click="ctrl.clickShare($event, options)" class="ng-social-button">                         <span class="ng-social-icon"></span>                         <span class="ng-social-text" ng-transclude></span>                     </a>                     <span ng-show="count" class="ng-social-counter">{{ count }}</span>                    </li>',controller:function(){},link:function(b,c,d,e){c.addClass("ng-social-facebook"),e&&(b.options=a,b.ctrl=e,e.init(b,c,a))}}}),angular.module("ngSocial").directive("ngSocialGooglePlus",function(){var a={popup:{url:"https://plus.google.com/share?url={url}",width:700,height:500}};return{restrict:"C",require:"^?ngSocialButtons",scope:!0,replace:!0,transclude:!0,template:'<li>                     <a ng-href="{{ctrl.link(options)}}" target="_blank" ng-click="ctrl.clickShare($event, options)" class="ng-social-button">                         <span class="ng-social-icon"></span>                         <span class="ng-social-text" ng-transclude></span>                     </a>                     <span ng-show="count" class="ng-social-counter">{{ count }}</span>                    </li>',controller:function(){},link:function(b,c,d,e){c.addClass("ng-social-google-plus"),e&&(b.options=a,b.ctrl=e,e.init(b,c,a))}}}),angular.module("ngSocial").run(["$templateCache",function(a){a.put("/views/buttons.html",'<div class="ng-social-container ng-cloak"><ul class="ng-social" ng-transclude></ul></div>')}]);
